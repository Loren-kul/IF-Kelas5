generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id       Int    @id @default(autoincrement())
  nama     String
  email    String @unique
  password String
  role     Role

  hasil    Hasil[]
}

model Bab {
  id       Int    @id @default(autoincrement())
  judul    String
  semester Int

  soal     Soal[]
  hasil    Hasil[]
}

model Soal {
  id            Int      @id @default(autoincrement())
  pertanyaan    String
  pilihan       String[]
  kunci_jawaban String

  bab_id Int
  bab    Bab @relation(fields: [bab_id], references: [id])
}

model Hasil {
  id     Int @id @default(autoincrement())

  user_id Int
  user    User @relation(fields: [user_id], references: [id])

  bab_id Int
  bab    Bab @relation(fields: [bab_id], references: [id])

  nilai  Int
  benar  Int
  total  Int
  status String

  created_at DateTime @default(now())
}

enum Role {
  GURU
  SISWA
}
